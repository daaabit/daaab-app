<div class="timeline-wrapper">
  <div class="timeline-chunks" style="margin-left: {{rescale ? route.scale_mm_left : '0'}}%; width: 100%;">
    <!-- div ng-repeat="leg in route.steps"
      class="trip-leg"
      style="left: {{
        rescale ? leg.scale_mm_left : leg.scale_left
      }}%; width: {{
        rescale ? leg.scale_mm_length : leg.scale_length
      }}%" -->
    <div ng-repeat="leg in route.steps"
      class="trip-leg"
      style="width: {{
          rescale ? leg.scale_mm_length : leg.scale_length
        }}%">
      <svg width="100%" height="8px">
      <rect x="0" width="100%" height="8px"
        style="fill: {{leg.pattern_url}}"></rect>
      </svg>
      <div ng-if="!businline"
        class="trip-leg-icon {{leg.length < 5 ? 'hide-button' : ''}}"
        style="width: 100%">
        <div>
          <i class="material-icons">{{leg.icon}}</i>
          {{leg.display_name}} <!-- {{leg.agency_short}} -->
        </div>
      </div>
    </div>
  </div>
  <div ng-if="businline" class="steps-chunks">
    <div ng-repeat="leg in route.steps"
      class="trip-leg-icon-inline trip-leg-icon {{leg.last_step ? '' : ' trip-sep'}}"
      ng-if="leg.travel_mode != 'WAIT'">
      <div>
        <span class="start_time" ng-bind-html="leg.start_time | to_trusted"></span>
        <i class="material-icons">{{leg.icon}}</i>
        {{leg.display_name}}
        <!-- {{leg.agency_short}} -->
      </div>
    </div>
  </div>
</div>